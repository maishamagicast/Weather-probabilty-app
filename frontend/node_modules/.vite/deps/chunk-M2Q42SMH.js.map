{
  "version": 3,
  "sources": ["../../@esri/calcite-components/dist/chunks/component.js", "../../@esri/calcite-components/dist/chunks/useSetFocus.js"],
  "sourcesContent": ["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.2 */\nimport { l as logger } from \"./logger.js\";\nfunction getIconScale(componentScale) {\n  return componentScale === \"l\" ? \"m\" : \"s\";\n}\nfunction warnIfMissingRequiredProp(component, newProp, deprecatedProp) {\n  if (!component[newProp] && !component[deprecatedProp]) {\n    logger.warn(`[${component.el.localName}] \"${newProp.toString()}\" or \"${deprecatedProp.toString()}\" is required.`);\n  }\n}\nfunction isHidden(el) {\n  return el.hidden || el.itemHidden;\n}\nasync function componentFocusable(component) {\n  await component.componentOnReady();\n  await component.updateComplete;\n}\nexport {\n  componentFocusable as c,\n  getIconScale as g,\n  isHidden as i,\n  warnIfMissingRequiredProp as w\n};\n", "/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.2 */\nimport { makeGenericController } from \"@arcgis/lumina/controllers\";\nimport { c as componentFocusable } from \"./component.js\";\nimport { k as getRootNode, b as focusElement } from \"./dom.js\";\nconst useSetFocus = () => {\n  return makeGenericController((component, controller) => {\n    let abortController;\n    function handleFocusOut() {\n      abortController?.abort();\n    }\n    controller.onLoad(() => {\n      component.listen(\"focus\", () => {\n        abortController = new AbortController();\n        component.el.addEventListener(\"focusout\", handleFocusOut, { signal: abortController.signal });\n      });\n    });\n    controller.onDisconnected(() => {\n      component.el.removeEventListener(\"focusout\", handleFocusOut);\n    });\n    return async (getFocusTarget, options) => {\n      if (component.disabled) {\n        return;\n      }\n      const focusConfig = toFocusConfig(getFocusTarget());\n      if (!focusConfig) {\n        return;\n      }\n      const { target, includeContainer, strategy } = focusConfig;\n      const rootNode = getRootNode(component.el);\n      const currentActiveElement = rootNode.activeElement;\n      await componentFocusable(component);\n      const focusAlreadyChanged = currentActiveElement !== rootNode.activeElement;\n      if (focusAlreadyChanged || abortController && !abortController?.signal.aborted) {\n        return;\n      }\n      component.el.removeEventListener(\"focus\", handleFocusOut);\n      return focusElement(target, includeContainer, strategy, component.el, options);\n    };\n  });\n};\nfunction isFocusOverride(focusTarget) {\n  return \"target\" in focusTarget && (\"includeContainer\" in focusTarget || \"strategy\" in focusTarget);\n}\nfunction toFocusConfig(focusTarget) {\n  if (!focusTarget) {\n    return;\n  }\n  return isFocusOverride(focusTarget) ? focusTarget : { target: focusTarget };\n}\nexport {\n  useSetFocus as u\n};\n"],
  "mappings": ";;;;;;;;;AAIA,SAAS,aAAa,gBAAgB;AACpC,SAAO,mBAAmB,MAAM,MAAM;AACxC;AASA,eAAe,mBAAmB,WAAW;AAC3C,QAAM,UAAU,iBAAiB;AACjC,QAAM,UAAU;AAClB;;;ACZA,IAAM,cAAc,MAAM;AACxB,SAAO,sBAAsB,CAAC,WAAW,eAAe;AACtD,QAAI;AACJ,aAAS,iBAAiB;AACxB,uBAAiB,MAAM;AAAA,IACzB;AACA,eAAW,OAAO,MAAM;AACtB,gBAAU,OAAO,SAAS,MAAM;AAC9B,0BAAkB,IAAI,gBAAgB;AACtC,kBAAU,GAAG,iBAAiB,YAAY,gBAAgB,EAAE,QAAQ,gBAAgB,OAAO,CAAC;AAAA,MAC9F,CAAC;AAAA,IACH,CAAC;AACD,eAAW,eAAe,MAAM;AAC9B,gBAAU,GAAG,oBAAoB,YAAY,cAAc;AAAA,IAC7D,CAAC;AACD,WAAO,OAAO,gBAAgB,YAAY;AACxC,UAAI,UAAU,UAAU;AACtB;AAAA,MACF;AACA,YAAM,cAAc,cAAc,eAAe,CAAC;AAClD,UAAI,CAAC,aAAa;AAChB;AAAA,MACF;AACA,YAAM,EAAE,QAAQ,kBAAkB,SAAS,IAAI;AAC/C,YAAM,WAAW,YAAY,UAAU,EAAE;AACzC,YAAM,uBAAuB,SAAS;AACtC,YAAM,mBAAmB,SAAS;AAClC,YAAM,sBAAsB,yBAAyB,SAAS;AAC9D,UAAI,uBAAuB,mBAAmB,CAAC,iBAAiB,OAAO,SAAS;AAC9E;AAAA,MACF;AACA,gBAAU,GAAG,oBAAoB,SAAS,cAAc;AACxD,aAAO,aAAa,QAAQ,kBAAkB,UAAU,UAAU,IAAI,OAAO;AAAA,IAC/E;AAAA,EACF,CAAC;AACH;AACA,SAAS,gBAAgB,aAAa;AACpC,SAAO,YAAY,gBAAgB,sBAAsB,eAAe,cAAc;AACxF;AACA,SAAS,cAAc,aAAa;AAClC,MAAI,CAAC,aAAa;AAChB;AAAA,EACF;AACA,SAAO,gBAAgB,WAAW,IAAI,cAAc,EAAE,QAAQ,YAAY;AAC5E;",
  "names": []
}
