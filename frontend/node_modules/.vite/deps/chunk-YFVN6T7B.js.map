{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2BindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerBindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DUintBindUniform.js", "../../@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js", "../../@arcgis/core/webscene/support/AlphaCutoff.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"ivec2\",r.Bind,((r,i)=>r.setUniform2iv(e,o(i))))}}export{o as Integer2BindUniform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class e extends o{constructor(o,e){super(o,\"int\",r.Bind,((r,i)=>r.setUniform1i(o,e(i))))}}export{e as IntegerBindUniform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as e}from\"../../../../webgl/Uniform.js\";class o extends e{constructor(e,o){super(e,\"usampler2D\",r.Bind,((r,s)=>r.bindTexture(e,o(s))))}}export{o as Texture2DUintBindUniform};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{HighlightReadBitmap as i}from\"../HighlightReadBitmap.glsl.js\";import{ShaderOutput as e}from\"../ShaderOutput.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{Integer2BindUniform as h}from\"../../shaderModules/Integer2BindUniform.js\";import{IntegerBindUniform as g}from\"../../shaderModules/IntegerBindUniform.js\";import{Texture2DBindUniform as l}from\"../../shaderModules/Texture2DBindUniform.js\";import{Texture2DUintBindUniform as d}from\"../../shaderModules/Texture2DUintBindUniform.js\";function o(o,u){const{fragment:r}=o,{output:c,draped:n,hasHighlightMixTexture:s}=u;c===e.Highlight?(r.uniforms.add(new g(\"highlightLevel\",(i=>i.highlightLevel??0)),new h(\"highlightMixOrigin\",(i=>i.highlightMixOrigin))),o.outputs.add(\"fragHighlight\",\"uvec2\",0),o.include(i),s?r.uniforms.add(new d(\"highlightMixTexture\",(i=>i.highlightMixTexture))).code.add(t`uvec2 getAccumulatedHighlight() {\nreturn texelFetch(highlightMixTexture, ivec2(gl_FragCoord.xy) - highlightMixOrigin, 0).rg;\n}\nvoid outputHighlight(bool occluded) {\nif (highlightLevel == 0) {\nuint bits = occluded ? 3u : 1u;\nfragHighlight = uvec2(bits, 0);\n} else {\nint ll = (highlightLevel & 3) << 1;\nint li = (highlightLevel >> 2) & 3;\nuint bits;\nif (occluded) {\nbits = 3u << ll;\n} else {\nbits = 1u << ll;\n}\nuvec2 combinedHighlight = getAccumulatedHighlight();\ncombinedHighlight[li] |= bits;\nfragHighlight = combinedHighlight;\n}\n}`):r.code.add(t`void outputHighlight(bool occluded) {\nuint bits = occluded ? 3u : 1u;\nfragHighlight = uvec2(bits, 0);\n}`),n?r.code.add(t`bool isHighlightOccluded() {\nreturn false;\n}`):r.uniforms.add(new l(\"depthTexture\",(i=>i.mainDepth))).code.add(t`bool isHighlightOccluded() {\nfloat sceneDepth = texelFetch(depthTexture, ivec2(gl_FragCoord.xy), 0).x;\nreturn gl_FragCoord.z > sceneDepth + 5e-7;\n}`),r.code.add(t`void calculateOcclusionAndOutputHighlight() {\noutputHighlight(isHighlightOccluded());\n}`)):r.code.add(t`void calculateOcclusionAndOutputHighlight() {}`)}export{o as OutputHighlight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst o=1/255.5;export{o as alphaCutoff};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAIgH,IAAMA,KAAN,cAAgB,EAAC;AAAA,EAAC,YAAYC,IAAED,IAAE;AAAC,UAAMC,IAAE,SAAQ,EAAE,OAAM,CAAC,GAAEC,OAAI,EAAE,cAAcD,IAAED,GAAEE,EAAC,CAAC,EAAE;AAAA,EAAC;AAAC;;;ACA5F,IAAM,IAAN,cAAgB,EAAC;AAAA,EAAC,YAAYC,IAAEC,IAAE;AAAC,UAAMD,IAAE,OAAM,EAAE,OAAM,CAAC,GAAEE,OAAI,EAAE,aAAaF,IAAEC,GAAEC,EAAC,CAAC,EAAE;AAAA,EAAC;AAAC;;;ACAzF,IAAMC,KAAN,cAAgB,EAAC;AAAA,EAAC,YAAYC,IAAED,IAAE;AAAC,UAAMC,IAAE,cAAa,EAAE,OAAM,CAAC,GAAE,MAAI,EAAE,YAAYA,IAAED,GAAE,CAAC,CAAC,EAAE;AAAA,EAAC;AAAC;;;ACAyS,SAASE,GAAEA,IAAE,GAAE;AAAC,QAAK,EAAC,UAAS,EAAC,IAAEA,IAAE,EAAC,QAAO,GAAE,QAAOC,IAAE,wBAAuB,EAAC,IAAE;AAAE,QAAIA,GAAE,aAAW,EAAE,SAAS,IAAI,IAAI,EAAE,mBAAkB,CAAAC,OAAGA,GAAE,kBAAgB,EAAE,GAAE,IAAIF,GAAE,uBAAsB,CAAAE,OAAGA,GAAE,mBAAmB,CAAC,GAAEF,GAAE,QAAQ,IAAI,iBAAgB,SAAQ,CAAC,GAAEA,GAAE,QAAQ,CAAC,GAAE,IAAE,EAAE,SAAS,IAAI,IAAIA,GAAE,wBAAuB,CAAAE,OAAGA,GAAE,oBAAoB,CAAC,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAoB11B,IAAE,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,EAGb,GAAED,KAAE,EAAE,KAAK,IAAI;AAAA;AAAA,EAEf,IAAE,EAAE,SAAS,IAAI,IAAI,EAAE,iBAAgB,CAAAC,OAAGA,GAAE,UAAU,CAAC,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,EAGlE,GAAE,EAAE,KAAK,IAAI;AAAA;AAAA,EAEb,KAAG,EAAE,KAAK,IAAI,iDAAiD;AAAC;;;AC9BlE,IAAMC,KAAE,IAAE;",
  "names": ["o", "e", "i", "o", "e", "i", "o", "e", "o", "n", "i", "o"]
}
