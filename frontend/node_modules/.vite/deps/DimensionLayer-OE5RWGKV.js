import {
  l as l4
} from "./chunk-7CSBO5GV.js";
import {
  a as a4
} from "./chunk-QZBNKN5E.js";
import {
  n,
  t
} from "./chunk-R7YP6EQJ.js";
import {
  b2 as b
} from "./chunk-5BYUGSWZ.js";
import "./chunk-SIRTOV2N.js";
import {
  S
} from "./chunk-OFINLTIW.js";
import "./chunk-M4XVX74D.js";
import "./chunk-UZ3YWBWC.js";
import "./chunk-2EOHKZLO.js";
import {
  h as h2
} from "./chunk-A7I2KMJU.js";
import "./chunk-BPI4BR4E.js";
import {
  Y
} from "./chunk-3L5JZOMH.js";
import "./chunk-N77BULFI.js";
import "./chunk-NEIJCC5O.js";
import "./chunk-UMUW6RKM.js";
import "./chunk-XRTNDGK2.js";
import "./chunk-4KZLIAP7.js";
import "./chunk-62NATJWT.js";
import "./chunk-FOPBVVXE.js";
import "./chunk-INI6MHIQ.js";
import "./chunk-QUZZIDFR.js";
import {
  a as a3
} from "./chunk-CBCDVQSA.js";
import "./chunk-RKF6WUZT.js";
import "./chunk-RMRI4NYS.js";
import "./chunk-YYLIW24Q.js";
import "./chunk-B7BH33JH.js";
import "./chunk-BLBN3L5Q.js";
import {
  l as l3
} from "./chunk-XNUSHDFN.js";
import {
  e,
  o as o2
} from "./chunk-4AKMPOG7.js";
import "./chunk-2CJBZZN7.js";
import "./chunk-ZJQPHR3K.js";
import {
  V
} from "./chunk-74GULGYB.js";
import {
  l,
  w
} from "./chunk-HYAO4PVV.js";
import "./chunk-SRNKPAJX.js";
import "./chunk-VNQUG2TO.js";
import "./chunk-MOMLPET6.js";
import "./chunk-3QHX4R4B.js";
import "./chunk-TOCH3L2K.js";
import "./chunk-EULNFFHG.js";
import "./chunk-SDIBXPSJ.js";
import {
  z
} from "./chunk-CBXZL53X.js";
import "./chunk-LPCUYJ2B.js";
import {
  _
} from "./chunk-SMO33YG7.js";
import "./chunk-LCBAL6ER.js";
import "./chunk-6JCZVSRM.js";
import "./chunk-LLGOMKTE.js";
import "./chunk-ZB6KRLRI.js";
import {
  s
} from "./chunk-67AKDROO.js";
import "./chunk-CM3TIXEV.js";
import "./chunk-POWGZO3T.js";
import "./chunk-OUZJZB6I.js";
import "./chunk-NJZD7WM5.js";
import {
  r as r2
} from "./chunk-CL7VLXUR.js";
import {
  l as l2
} from "./chunk-FCX4ZA3Z.js";
import {
  m2 as m
} from "./chunk-2ZPU5IZX.js";
import {
  a2
} from "./chunk-S62CSPIH.js";
import {
  a,
  x
} from "./chunk-X26VPODZ.js";
import "./chunk-XNYPRDKK.js";
import {
  r
} from "./chunk-Y4BWIIWH.js";
import "./chunk-TTJIKWMC.js";
import "./chunk-CMEG2CKL.js";
import "./chunk-VHPBXBDE.js";
import "./chunk-6ACTD4UJ.js";
import "./chunk-5REYU5G2.js";
import "./chunk-JNYZ3I5R.js";
import {
  o4 as o
} from "./chunk-N626Y23H.js";
import "./chunk-TJPLHZCD.js";
import {
  h
} from "./chunk-KLFJ5V5G.js";
import "./chunk-G26ADAPQ.js";

// node_modules/@arcgis/core/analysis/DimensionSimpleStyle.js
var a5 = class extends l2.JSONSupportMixin(a3) {
  constructor(o3) {
    super(o3), this.type = "simple", this.color = new l3("black"), this.lineSize = 2, this.fontSize = 10, this.textColor = new l3("black"), this.textBackgroundColor = new l3([255, 255, 255, 0.6]);
  }
  equals(o3) {
    return this === o3 || this.color.equals(o3.color) && this.lineSize === o3.lineSize && this.fontSize === o3.fontSize && this.textColor.equals(o3.textColor) && this.textBackgroundColor.equals(o3.textBackgroundColor);
  }
};
r([m({ type: ["simple"], readOnly: true, json: { write: { isRequired: true } } })], a5.prototype, "type", void 0), r([m({ type: l3, nonNullable: true, json: { type: [x], write: { isRequired: true } } })], a5.prototype, "color", void 0), r([m({ type: Number, cast: o2, nonNullable: true, range: { min: e(1) }, json: { write: { isRequired: true } } })], a5.prototype, "lineSize", void 0), r([m({ type: Number, cast: o2, nonNullable: true, json: { write: { isRequired: true } } })], a5.prototype, "fontSize", void 0), r([m({ type: l3, nonNullable: true, json: { type: [x], write: { isRequired: true } } })], a5.prototype, "textColor", void 0), r([m({ type: l3, nonNullable: true, json: { type: [x], write: { isRequired: true } } })], a5.prototype, "textBackgroundColor", void 0), a5 = r([a2("esri.analysis.DimensionSimpleStyle")], a5);

// node_modules/@arcgis/core/analysis/dimensionUtils.js
var t2;
!(function(t3) {
  t3.Horizontal = "horizontal", t3.Vertical = "vertical", t3.Direct = "direct";
})(t2 || (t2 = {}));
var r3 = [t2.Horizontal, t2.Vertical, t2.Direct];

// node_modules/@arcgis/core/analysis/LengthDimension.js
var c = class extends l2.JSONSupportMixin(a3) {
  constructor(t3) {
    super(t3), this.type = "length", this.startPoint = null, this.endPoint = null, this.measureType = t2.Direct, this.offset = 0, this.orientation = 0;
  }
  get valid() {
    return null != this.startPoint && null != this.endPoint;
  }
  equals(t3) {
    return this === t3 || o(this.startPoint, t3.startPoint) && o(this.endPoint, t3.endPoint) && this.measureType === t3.measureType && this.offset === t3.offset && this.orientation === t3.orientation;
  }
};
r([m({ type: ["length"], json: { write: { isRequired: true } } })], c.prototype, "type", void 0), r([m({ type: _, json: { write: { isRequired: true } } })], c.prototype, "startPoint", void 0), r([m({ type: _, json: { write: { isRequired: true } } })], c.prototype, "endPoint", void 0), r([m({ type: r3, nonNullable: true, json: { write: { isRequired: true } } })], c.prototype, "measureType", void 0), r([m({ type: Number, nonNullable: true, json: { write: { isRequired: true } } })], c.prototype, "offset", void 0), r([m({ type: Number, nonNullable: true, json: { write: { isRequired: true } } }), s(((t3) => a4.normalize(a(t3), 0, true)))], c.prototype, "orientation", void 0), r([m({ readOnly: true })], c.prototype, "valid", null), c = r([a2("esri.analysis.LengthDimension")], c);

// node_modules/@arcgis/core/analysis/DimensionAnalysis.js
var y = V.ofType(c);
var f = class extends l4 {
  constructor(e2) {
    super(e2), this.type = "dimension", this.style = new a5(), this.extent = null;
  }
  initialize() {
    this.addHandles(l((() => this._computeExtent()), ((e2) => {
      null == e2?.pending && this._set("extent", null != e2 ? e2.extent : null);
    }), w));
  }
  get dimensions() {
    return this._get("dimensions") || new y();
  }
  set dimensions(e2) {
    this._set("dimensions", n(e2, this.dimensions, y));
  }
  get spatialReference() {
    for (const e2 of this.dimensions) {
      if (null != e2.startPoint) return e2.startPoint.spatialReference;
      if (null != e2.endPoint) return e2.endPoint.spatialReference;
    }
    return null;
  }
  get valid() {
    return this.dimensions.every(((e2) => e2.valid));
  }
  async waitComputeExtent() {
    const e2 = this._computeExtent();
    return null != e2 ? e2.pending : Promise.resolve();
  }
  _computeExtent() {
    const e2 = this.spatialReference;
    if (null == e2) return { pending: null, extent: null };
    const t3 = [];
    for (const o3 of this.dimensions) null != o3.startPoint && t3.push(o3.startPoint), null != o3.endPoint && t3.push(o3.endPoint);
    const n2 = Y(t3, e2);
    if (null != n2.pending) return { pending: n2.pending, extent: null };
    let s2 = null;
    return null != n2.geometries && (s2 = n2.geometries.reduce(((e3, t4) => null == e3 ? null != t4 ? z.fromPoint(t4) : null : null != t4 ? e3.union(z.fromPoint(t4)) : e3), null)), { pending: null, extent: s2 };
  }
  clear() {
    this.dimensions.removeAll();
  }
  equals(e2) {
    return this === e2 || super.equals(e2) && this.style.equals(e2.style) && h(this.dimensions.toArray(), e2.dimensions.toArray(), ((e3, t3) => e3.equals(t3)));
  }
};
r([m({ type: ["dimension"] })], f.prototype, "type", void 0), r([m({ cast: t, type: y, nonNullable: true })], f.prototype, "dimensions", null), r([m({ readOnly: true })], f.prototype, "spatialReference", null), r([m({ types: { key: "type", base: null, typeMap: { simple: a5 } }, nonNullable: true })], f.prototype, "style", void 0), r([m({ value: null, readOnly: true })], f.prototype, "extent", void 0), r([m({ readOnly: true })], f.prototype, "valid", null), f = r([a2("esri.analysis.DimensionAnalysis")], f);

// node_modules/@arcgis/core/layers/DimensionLayer.js
var u = class extends b(S(h2)) {
  constructor(e2) {
    if (super(e2), this.type = "dimension", this.operationalLayerType = "ArcGISDimensionLayer", this.source = new f(), this.opacity = 1, e2) {
      const { source: s2, style: t3 } = e2;
      s2 && t3 && (s2.style = t3);
    }
  }
  initialize() {
    this.addHandles([l((() => this.source), ((e2, s2) => {
      null != s2 && s2.parent === this && (s2.parent = null), null != e2 && (e2.parent = this);
    }), w)]);
  }
  async load() {
    return this.addResolvingPromise(this.source.waitComputeExtent()), this;
  }
  get spatialReference() {
    return this.source.spatialReference;
  }
  get style() {
    return this.source.style;
  }
  set style(e2) {
    this.source.style = e2;
  }
  get fullExtent() {
    return this.source.extent;
  }
  releaseAnalysis(e2) {
    this.source === e2 && (this.source = new f());
  }
  get analysis() {
    return this.source;
  }
  set analysis(e2) {
    this.source = e2;
  }
  get dimensions() {
    return this.source.dimensions;
  }
  set dimensions(e2) {
    this.source.dimensions = e2;
  }
  writeDimensions(e2, s2, t3, r4) {
    s2.dimensions = e2.filter((({ startPoint: e3, endPoint: s3 }) => null != e3 && null != s3)).toJSON(r4);
  }
};
r([m({ json: { read: false }, readOnly: true })], u.prototype, "type", void 0), r([m({ type: ["ArcGISDimensionLayer"] })], u.prototype, "operationalLayerType", void 0), r([m({ nonNullable: true })], u.prototype, "source", void 0), r([m({ readOnly: true })], u.prototype, "spatialReference", null), r([m({ types: { key: "type", base: null, typeMap: { simple: a5 } }, json: { write: { ignoreOrigin: true } } })], u.prototype, "style", null), r([m({ readOnly: true })], u.prototype, "fullExtent", null), r([m({ readOnly: true, json: { read: false, write: false, origins: { service: { read: false, write: false }, "portal-item": { read: false, write: false }, "web-document": { read: false, write: false } } } })], u.prototype, "opacity", void 0), r([m({ type: ["show", "hide"] })], u.prototype, "listMode", void 0), r([m({ type: V.ofType(c), json: { write: { ignoreOrigin: true }, origins: { "web-scene": { write: { ignoreOrigin: true } } } } })], u.prototype, "dimensions", null), r([r2("web-scene", "dimensions")], u.prototype, "writeDimensions", null), u = r([a2("esri.layers.DimensionLayer")], u);
var d = u;
export {
  d as default
};
//# sourceMappingURL=DimensionLayer-OE5RWGKV.js.map
